<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Northeast Weather Models</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: #fff; text-align: center; }
        h1 { margin: 20px; }
        .grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
        .card { background: #2a2a2a; padding: 10px; border-radius: 8px; width: 45%; min-width: 300px; }
        img { width: 100%; border-radius: 4px; }
        .meta { display: flex; justify-content: space-between; margin-top: 8px; font-size: 0.9em; color: #aaa; }
        .status-ok { color: #4caf50; }
        .status-fail { color: #f44336; }
    </style>
</head>
<body>
    <h1>Northeast US Temperature Analysis</h1>
    <div id="last-updated" style="margin-bottom: 20px; color: #888;"></div>
    
    <div class="grid" id="model-grid">
        </div>

    <script>
        async function loadModels() {
            try {
                const response = await fetch('status.json');
                const data = await response.json();
                const container = document.getElementById('model-grid');

                const modelOrder = ['hrrr', 'nam', 'nam3k', 'gfs', 'rrfs'];
                
                modelOrder.forEach(model => {
                    if (!data[model]) return;
                    
                    const info = data[model];
                    const isOk = info.status === 'success';
                    
                    const html = `
                        <div class="card">
                            <img src="${info.image}?t=${new Date().getTime()}" alt="${model}">
                            <div class="meta">
                                <strong>${model.toUpperCase()}</strong>
                                <span class="${isOk ? 'status-ok' : 'status-fail'}">
                                    ${isOk ? '✔ ' + info.run : '⚠ Data Offline'}
                                </span>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
                
                document.getElementById('last-updated').innerText = "Last Check: " + new Date().toLocaleString();

            } catch (e) {
                console.error("Could not load status.json");
            }
        }
        loadModels();
    </script>
</body>
</html>
